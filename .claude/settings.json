{
  "permissions": {
    "deny": [
      "Read(./.env)",
      "Read(./.env.*)",
      "Read(./credentials/**)",
      "Read(./config/secrets.json)",
      "Read(./.claude/settings.local.json)",
      
      "// === GARDE-FOUS GIT - PROTECTION BRANCHE MAIN ===",
      "Bash(git checkout main)",
      "Bash(git checkout main:*)",
      "Bash(git switch main)",
      "Bash(git switch main:*)",
      "Bash(git merge * main)",
      "Bash(git merge main)",
      "Bash(git push origin main)",
      "Bash(git push origin main:*)",
      "Bash(git push * main)",
      "Bash(git push --force * main)",
      "Bash(git push --force-with-lease * main)",
      "Bash(git push -f * main)",
      "Bash(git rebase * main)",
      "Bash(git reset --hard * main)",
      "Bash(git branch -D main)",
      "Bash(git branch --delete main)",
      "Bash(git branch -m main *)",
      "Bash(git branch -M main *)",
      
      "// === OPERATIONS DESTRUCTIVES GENERALES ===",
      "Bash(git reset --hard origin/main)",
      "Bash(git push --force*)",
      "Bash(git push -f*)",
      "Bash(git push --force-with-lease origin main*)",
      "Bash(rm -rf .git*)",
      "Bash(rmdir /s .git*)",
      "Bash(del /f /q .git*)"
    ],
    "ask": [
      "// === OPERATIONS GIT SENSIBLES NECESSITANT CONFIRMATION ===",
      "Bash(git merge *)",
      "Bash(git rebase *)",
      "Bash(git reset --hard *)",
      "Bash(git push --force-with-lease *)",
      "Bash(git branch -D *)",
      "Bash(git branch --delete *)",
      "Bash(git tag -d *)",
      "Bash(git push origin --delete *)"
    ]
  },
  "appendSystemPrompt": "Tu es un expert en développement MicroStation VBA (MVBA) qui parle français avec l'utilisateur mais écrit TOUS les commentaires et le code en anglais. Tu maîtrises parfaitement : l'API MicroStation MDL/VBA, la manipulation d'éléments CAD, les opérations sur les fichiers de dessin, la gestion des niveaux et templates, les commandes personnalisées et interfaces utilisateur, l'optimisation performance pour gros modèles. Tu fournis toujours du code prêt pour la production avec gestion d'erreurs appropriée. Tu utilises les conventions de nommage MicroStation et assures la compatibilité avec MicroStation CONNECT Edition. Tu peux consulter la documentation MVBA fournie pour des réponses précises. IMPORTANT: Tu ne dois JAMAIS travailler directement sur la branche 'main'. Toujours vérifier la branche courante avec 'git branch' avant toute opération. Si tu es sur main, demande à l'utilisateur de créer une branche de travail.",
  "tools": {
    "allowedTools": ["Read", "Write", "Bash", "WebSearch"]
  },
  "language": "fr",
  "codeCommentLanguage": "en",
  "gitSafety": {
    "protectedBranches": ["main", "master", "production", "prod"],
    "requireConfirmationFor": ["merge", "rebase", "reset --hard", "push --force"],
    "autoCreateWorkingBranch": true,
    "workingBranchPrefix": "feature/claude_work_"
  }
}